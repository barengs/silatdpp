(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{50721:function(e,t,a){Promise.resolve().then(a.bind(a,48837))},48837:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var r=a(57437),n=a(81154),s=a(2265),i=e=>{let{title:t,setter:a}=e,[n,i]=(0,s.useState)(!1),[l,o]=(0,s.useState)([]),d=(0,s.useRef)(null),[c,u]=(0,s.useState)(!1),m=e=>{o(t=>(t.splice(e,1),t)),u(e=>!e)};return(0,s.useEffect)(()=>{a(l.map(e=>({name:e.name,size:e.size,type:e.type,lastModified:e.lastModified}))),i(!1)},[l]),(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)("div",{className:"fixed left-0 top-0 z-9999 w-full",children:(0,r.jsxs)("div",{className:"relative min-h-screen w-full",children:[(0,r.jsx)("div",{onClick:()=>i(!1),className:"absolute left-0 top-0 h-full w-full bg-black-2 bg-opacity-80"}),(0,r.jsxs)("div",{className:"absolute left-1/2 top-1/2 z-20 flex h-[500px] w-3/4 -translate-x-1/2 -translate-y-1/2 flex-col gap-y-4 bg-white px-4 py-4 lg:w-[1200px]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-lg font-semibold text-black-2",children:"Upload Bukti"}),(0,r.jsx)("button",{type:"button",onClick:()=>i(!1),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,className:"size-6 stroke-black-2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{onDrop:e=>{e.preventDefault(),o(Array.from(e.dataTransfer.files)),i(!1)},onDragOver:e=>e.preventDefault(),className:"flex flex-1 flex-col items-center justify-center border-2 border-dashed",children:[(0,r.jsx)("p",{children:"Tarik dan letakkan disini"}),(0,r.jsx)("button",{type:"button",onClick:()=>{var e;null===(e=d.current)||void 0===e||e.click()},className:"mt-4 rounded-md bg-primary p-2 text-sm font-medium text-white",children:"Pilih File"})]})]})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:t}),(null==l?void 0:l.length)<=0?(0,r.jsx)("input",{onClick:e=>{n||(e.preventDefault(),i(!0))},onChange:e=>{let t=e.target.files;(null==t?void 0:t.length)<=0||o(Array.from(t))},ref:d,type:"file",multiple:!0,className:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent p-1.5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"}):(0,r.jsx)("div",{className:"space-y-2",children:l.map((e,t)=>(0,r.jsxs)("div",{className:"flex w-full items-center justify-between rounded-md border-[1.5px] border-black-2 px-2 py-2",children:[(0,r.jsx)("a",{target:"_blank",href:URL.createObjectURL(e),className:"text-sm hover:underline",children:e.name}),(0,r.jsx)("button",{type:"button",onClick:()=>m(t),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,className:"size-5 stroke-black-2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]},t))})]})]})},l=a(85788),o=a(94693),d=a(96327),c=a(35715),u=a(37751),m=a(72938),p=a(27648),f=a(99376),x=a(68575),b=()=>{let[e,t]=(0,s.useState)([]),a=(0,x.I0)();(0,f.useRouter)();let b=(0,x.oR)().getState(),h=b.auth,g=b.services;(0,s.useEffect)(()=>{(async()=>{a((0,m.Uc)(await (0,u.vi)())),a((0,m.sE)(await (0,u.nB)()))})()},[]);let k=async t=>{t.preventDefault();let a=new FormData(t.currentTarget);if(a.append("files",JSON.stringify(e)),(await fetch("".concat("https://silat.barengsaya.com/api","/sppd"),{method:"post",body:a,headers:{Authorization:"Bearer ".concat(h.token)}})).ok){alert("Berhasil mengajukan SPPD"),window.location.reload();return}alert("Galat pada prosess pengajuan")};return(0,r.jsxs)(c.default,{children:[(0,r.jsx)(n.Z,{pageName:"Pengajuan SPPD"}),(0,r.jsx)("div",{className:"flex lg:justify-end",children:(0,r.jsx)(p.default,{href:"/sppd/list",className:"mt-1 mb-2 rounded-md bg-blue-500 px-2 py-3 text-sm text-white",children:"Histori SPPD"})}),(0,r.jsxs)("form",{onSubmit:k,className:"grid grid-cols-2 gap-9 rounded-sm border border-stroke bg-white px-6.5 py-4 shadow-default dark:border-strokedark dark:bg-boxdark",children:[(0,r.jsx)(l.Z,{title:"Nama Kegiatan",name:"nama_kegiatan"}),(0,r.jsx)(l.Z,{title:"Tempat Tujuan",name:"tempat_tujuan"}),(0,r.jsx)(l.Z,{title:"Tempat Kegiatan",name:"tempat_kegiatan"}),(0,r.jsx)(l.Z,{title:"Tempat Berangkat",name:"tempat_berangkat"}),(0,r.jsx)(d.Z,{title:"Deskripsi Kegiatan",name:"maksud_kegiatan"}),(0,r.jsx)(o.Z,{title:"Transportasi Perjalanan",name:"alat_transportasi_id",options:g.transportation.map(e=>({name:e.nama,value:e.id}))}),(0,r.jsxs)("div",{className:"flex gap-x-4",children:[(0,r.jsx)(l.Z,{title:"Tanggal Berangkat",name:"tanggal_berangkat",type:"date"}),(0,r.jsx)(l.Z,{title:"Tanggal Sampai",name:"tanggal_kembali",type:"date"})]}),(0,r.jsx)(l.Z,{title:"Tanggal Kegiatan",name:"tanggal_kegiatan",type:"date"}),(0,r.jsx)(o.Z,{title:"Biaya Perjalanan",name:"tingkat_biaya_id",options:g.budgets.map(e=>({name:e.biaya,value:e.id}))}),(0,r.jsx)(i,{setter:e=>t(e),title:"Bukti Kegiatan"}),(0,r.jsx)("button",{type:"submit",className:"col-span-2 w-full justify-center rounded bg-primary p-3 font-medium text-gray hover:bg-opacity-90",children:"Ajukan SPPD"})]})]})}},81154:function(e,t,a){"use strict";var r=a(57437),n=a(27648);t.Z=e=>{let{pageName:t}=e;return(0,r.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsx)("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:t}),(0,r.jsx)("nav",{children:(0,r.jsxs)("ol",{className:"flex items-center gap-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(n.default,{className:"font-medium",href:"/",children:"Dashboard /"})}),(0,r.jsx)("li",{className:"font-medium text-primary",children:t})]})})]})}},85788:function(e,t,a){"use strict";var r=a(57437),n=a(99376),s=a(2265);t.Z=e=>{let{title:t,autoCompleteData:a=[],onSelectedAutoComplete:i=e=>void 0,addItemPath:l="",defaultValue:o="",type:d="text",multiple:c=!1,name:u=""}=e,m=(0,n.useRouter)(),[p,f]=(0,s.useState)(o),[x,b]=(0,s.useState)([]),[h,g]=(0,s.useState)(!1),k=e=>{f(e),g(!1),i(e)};return(0,s.useEffect)(()=>{f(o)},[o]),(0,s.useEffect)(()=>{b(a||[])},[]),(0,r.jsxs)("div",{className:"flex-1",onBlur:()=>{setTimeout(()=>g(!1),200)},children:[(0,r.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:t}),(0,r.jsx)("input",{type:d,placeholder:t,value:p,onChange:e=>{let t=e.target.value;f(t),g(!!t)},name:u,multiple:c,autoComplete:a?"off":"",className:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent p-1.5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"}),(0,r.jsxs)("div",{className:"mt-2 flex w-full flex-col gap-y-4 overflow-hidden rounded-md bg-gray-100 px-4 py-2 text-left ".concat(h&&x.length?"":"hidden"),children:[null==x?void 0:x.filter(e=>!!e&&e.toLowerCase().includes(p.toLowerCase())).map((e,t)=>(0,r.jsx)("button",{onClick:()=>k(e),className:"w-full text-left hover:bg-blue-500 hover:text-white",type:"button",children:e},t)),l&&(0,r.jsx)("button",{type:"button",onClick:()=>m.push(l),className:"w-full hover:bg-blue-500 hover:text-white",children:"+"})]})]})}},94693:function(e,t,a){"use strict";var r=a(57437);a(2265),t.Z=e=>{let{title:t,options:a,name:n,defaultValue:s}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:t}),(0,r.jsxs)("div",{className:"relative z-20 bg-white dark:bg-form-input",children:[(0,r.jsxs)("select",{value:s,name:n,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent px-4 py-3 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input ",children:[(0,r.jsx)("option",{value:"",disabled:!0,className:"text-body dark:text-bodydark",children:t}),null==a?void 0:a.map((e,t)=>(0,r.jsx)("option",{value:e.value,className:"text-body dark:text-bodydark",selected:e.value==s,children:e.name},t))]}),(0,r.jsx)("span",{className:"absolute right-4 top-1/2 z-10 -translate-y-1/2",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("g",{opacity:"0.8",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"#637381"})})})})]})]})}},96327:function(e,t,a){"use strict";var r=a(57437),n=a(2265);t.Z=e=>{let{title:t,defaultValue:a="",name:s=""}=e,[i,l]=(0,n.useState)(a);return(0,n.useEffect)(()=>l(a),[a]),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:t}),(0,r.jsx)("textarea",{placeholder:t,name:s,onChange:e=>l(e.target.value),className:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent p-1.5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})}},37751:function(e,t,a){"use strict";a.d(t,{Dp:function(){return s},J8:function(){return i},JK:function(){return n},hT:function(){return l},nB:function(){return o},vi:function(){return d}});var r=a(53720);async function n(){let e=await fetch("".concat("https://silat.barengsaya.com/api","/institusi"));return e.ok?(await e.json()).data:[r.Qi]}async function s(){let e=await fetch("".concat("https://silat.barengsaya.com/api","/buku-tamu"));return e.ok?(await e.json()).data.data:[r.oX]}async function i(){let e=await fetch("".concat("https://silat.barengsaya.com/api","/divisi"));return e.ok?(await e.json()).data:[r.By]}async function l(){let e=await fetch("".concat("https://silat.barengsaya.com/api","/rekanan"));return e.ok?(await e.json()).data:[r.G_]}async function o(){let e=await fetch("".concat("https://silat.barengsaya.com/api","/transportasi"));return e.ok?(await e.json()).data:[r.xP]}async function d(){let e=await fetch("".concat("https://silat.barengsaya.com/api","/biaya"));return e.ok?(await e.json()).data:[r.C5]}},72938:function(e,t,a){"use strict";a.d(t,{Bu:function(){return d},L:function(){return l},U6:function(){return c},Uc:function(){return u},gs:function(){return i},sE:function(){return o}});var r=a(20301),n=a(53720);let s=(0,r.oM)({name:"services",initialState:{institutions:[n.Qi],guestBook:[n.oX],transportation:[n.xP],divisions:[n.By],partners:[n.G_],budgets:[n.C5]},reducers:{setInstitution:(e,t)=>{e.institutions=t.payload},setGuestBook:(e,t)=>{e.guestBook=t.payload},setTransportation:(e,t)=>{e.transportation=t.payload},setDivision:(e,t)=>{e.divisions=t.payload},setPartners:(e,t)=>{e.partners=t.payload},setBudget:(e,t)=>{e.budgets=t.payload}}}),{setInstitution:i,setGuestBook:l,setTransportation:o,setDivision:d,setPartners:c,setBudget:u}=s.actions;t.ZP=s.reducer}},function(e){e.O(0,[281,718,715,971,117,744],function(){return e(e.s=50721)}),_N_E=e.O()}]);